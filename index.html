<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A beautiful web-based clock with ring animations and comet trail effects">
    <meta name="theme-color" content="#667eea">

    <title>Ring Time Clock</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">

    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="/icons/icon-192.png">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Ring Clock">

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="192x192" href="/icons/icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/icons/icon-512.png">

    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Fullscreen Button -->
    <button class="fullscreen-btn" id="fullscreenBtn" aria-label="Toggle fullscreen">
        ‚õ∂
    </button>

    <!-- Alarm Button -->
    <button class="alarm-btn" id="alarmBtn" aria-label="Open alarm">
        ‚è∞
    </button>

    <!-- World Clock Button -->
    <button class="world-clock-btn" id="worldClockBtn" aria-label="Open world clock">
        üåç
    </button>

    <!-- Stopwatch Button -->
    <button class="stopwatch-btn" id="stopwatchBtn" aria-label="Open stopwatch">
        ‚è±Ô∏è
    </button>

    <!-- Settings Button -->
    <button class="settings-btn" id="settingsBtn" aria-label="Open settings">
        ‚öô
    </button>

    <!-- Fullscreen Hint -->
    <div class="fullscreen-hint" id="fullscreenHint">
        <span class="hint-text">Press <kbd>ESC</kbd> to exit fullscreen</span>
    </div>

    <!-- Settings Modal -->
    <div class="settings-modal" id="settingsModal" role="dialog" aria-labelledby="settingsTitle" aria-modal="true">
        <div class="settings-panel">
            <div class="settings-header">
                <h2 class="settings-title" id="settingsTitle">Settings</h2>
                <button class="close-btn" id="closeBtn" aria-label="Close settings">√ó</button>
            </div>

            <div class="settings-section">
                <label class="settings-label">Color Theme</label>
                <div class="theme-grid" role="radiogroup" aria-label="Color theme selection">
                    <div class="theme-option active" data-theme="classic" role="radio" aria-checked="true" tabindex="0">
                        <div class="theme-preview">
                            <div class="theme-color" style="background: #667eea;"></div>
                            <div class="theme-color" style="background: #f093fb;"></div>
                            <div class="theme-color" style="background: #4facfe;"></div>
                            <div class="theme-color" style="background: #43e97b;"></div>
                        </div>
                        <div class="theme-name">Classic</div>
                    </div>

                    <div class="theme-option" data-theme="warm" role="radio" aria-checked="false" tabindex="0">
                        <div class="theme-preview">
                            <div class="theme-color" style="background: #ff6b6b;"></div>
                            <div class="theme-color" style="background: #ffa600;"></div>
                            <div class="theme-color" style="background: #ff8c42;"></div>
                            <div class="theme-color" style="background: #ffd93d;"></div>
                        </div>
                        <div class="theme-name">Warm Sunset</div>
                    </div>

                    <div class="theme-option" data-theme="ocean" role="radio" aria-checked="false" tabindex="0">
                        <div class="theme-preview">
                            <div class="theme-color" style="background: #1e3a8a;"></div>
                            <div class="theme-color" style="background: #0ea5e9;"></div>
                            <div class="theme-color" style="background: #06b6d4;"></div>
                            <div class="theme-color" style="background: #67e8f9;"></div>
                        </div>
                        <div class="theme-name">Ocean Breeze</div>
                    </div>

                    <div class="theme-option" data-theme="neon" role="radio" aria-checked="false" tabindex="0">
                        <div class="theme-preview">
                            <div class="theme-color" style="background: #ff00ff;"></div>
                            <div class="theme-color" style="background: #00ffff;"></div>
                            <div class="theme-color" style="background: #ff00aa;"></div>
                            <div class="theme-color" style="background: #00ff00;"></div>
                        </div>
                        <div class="theme-name">Neon Night</div>
                    </div>

                    <div class="theme-option" data-theme="pastel" role="radio" aria-checked="false" tabindex="0">
                        <div class="theme-preview">
                            <div class="theme-color" style="background: #ffc6ff;"></div>
                            <div class="theme-color" style="background: #bdb2ff;"></div>
                            <div class="theme-color" style="background: #a0c4ff;"></div>
                            <div class="theme-color" style="background: #caffbf;"></div>
                        </div>
                        <div class="theme-name">Soft Pastel</div>
                    </div>
                </div>
            </div>

            <div class="settings-section">
                <label class="settings-label">Time Format</label>
                <div class="format-toggle">
                    <button class="format-btn active" data-format="24h" aria-label="24-hour format">24h</button>
                    <button class="format-btn" data-format="12h" aria-label="12-hour format">12h</button>
                </div>
            </div>

            <div class="settings-section">
                <label class="settings-label">Share Settings</label>
                <button class="share-url-btn" id="shareUrlBtn" aria-label="Copy shareable URL">
                    <span class="share-icon">üîó</span>
                    <span class="share-text">Copy URL</span>
                </button>
                <p class="share-hint">Share your current theme settings via URL</p>
            </div>
        </div>
    </div>

    <!-- Alarm Modal -->
    <div class="alarm-modal" id="alarmModal" role="dialog" aria-labelledby="alarmTitle" aria-modal="true">
        <div class="alarm-panel">
            <div class="alarm-header">
                <h2 class="alarm-title" id="alarmTitle">Alarms & Timers</h2>
                <button class="close-btn" id="alarmCloseBtn" aria-label="Close alarm">√ó</button>
            </div>

            <!-- Tab Navigation -->
            <div class="tab-nav" role="tablist">
                <button class="tab-btn active" id="alarmTab" role="tab" aria-selected="true" aria-controls="alarmPanel">
                    Alarms
                </button>
                <button class="tab-btn" id="timerTab" role="tab" aria-selected="false" aria-controls="timerPanel">
                    Timer
                </button>
            </div>

            <!-- Alarm Panel -->
            <div class="tab-panel active" id="alarmPanel" role="tabpanel" aria-labelledby="alarmTab">
                <!-- Notification Permission -->
                <div class="notification-permission" id="notificationPermission" style="display: none;">
                    <p class="permission-text">‚ö†Ô∏è Enable notifications to receive alarm alerts</p>
                    <button class="permission-btn" id="enableNotificationBtn">Enable Notifications</button>
                </div>

                <!-- Alarm Time Picker -->
                <div class="time-picker">
                    <label class="picker-label">Set Alarm Time</label>
                    <div class="time-inputs">
                        <input type="number" class="time-input" id="alarmHour" min="0" max="23" placeholder="HH" aria-label="Hour">
                        <span class="time-separator">:</span>
                        <input type="number" class="time-input" id="alarmMinute" min="0" max="59" placeholder="MM" aria-label="Minute">
                        <span class="time-separator">:</span>
                        <input type="number" class="time-input" id="alarmSecond" min="0" max="59" placeholder="SS" aria-label="Second">
                    </div>

                    <!-- Repeat Options -->
                    <div class="repeat-options">
                        <label class="repeat-label">Repeat</label>
                        <select class="repeat-select" id="alarmRepeat" aria-label="Repeat option">
                            <option value="none">Once</option>
                            <option value="daily">Every Day</option>
                            <option value="weekdays">Weekdays (Mon-Fri)</option>
                            <option value="weekends">Weekends (Sat-Sun)</option>
                            <option value="custom">Custom Days...</option>
                        </select>
                    </div>

                    <!-- Custom Days Picker (hidden by default) -->
                    <div class="custom-days" id="customDays" style="display: none;">
                        <label class="repeat-label">Select Days</label>
                        <div class="days-grid">
                            <label class="day-checkbox">
                                <input type="checkbox" name="day" value="0">
                                <span>Sun</span>
                            </label>
                            <label class="day-checkbox">
                                <input type="checkbox" name="day" value="1">
                                <span>Mon</span>
                            </label>
                            <label class="day-checkbox">
                                <input type="checkbox" name="day" value="2">
                                <span>Tue</span>
                            </label>
                            <label class="day-checkbox">
                                <input type="checkbox" name="day" value="3">
                                <span>Wed</span>
                            </label>
                            <label class="day-checkbox">
                                <input type="checkbox" name="day" value="4">
                                <span>Thu</span>
                            </label>
                            <label class="day-checkbox">
                                <input type="checkbox" name="day" value="5">
                                <span>Fri</span>
                            </label>
                            <label class="day-checkbox">
                                <input type="checkbox" name="day" value="6">
                                <span>Sat</span>
                            </label>
                        </div>
                    </div>

                    <button class="add-alarm-btn" id="addAlarmBtn">+ Add Alarm</button>
                </div>

                <!-- Alarm List -->
                <div class="alarm-list" id="alarmList">
                    <p class="empty-state" id="emptyAlarmState">No alarms set</p>
                </div>
            </div>

            <!-- Timer Panel -->
            <div class="tab-panel" id="timerPanel" role="tabpanel" aria-labelledby="timerTab" hidden>
                <!-- Timer Input -->
                <div class="timer-input-section">
                    <label class="picker-label">Set Timer Duration</label>
                    <div class="time-inputs">
                        <input type="number" class="time-input" id="timerHour" min="0" max="23" placeholder="HH" aria-label="Hours">
                        <span class="time-separator">:</span>
                        <input type="number" class="time-input" id="timerMinute" min="0" max="59" placeholder="MM" aria-label="Minutes">
                        <span class="time-separator">:</span>
                        <input type="number" class="time-input" id="timerSecond" min="0" max="59" placeholder="SS" aria-label="Seconds">
                    </div>
                </div>

                <!-- Timer Controls -->
                <div class="timer-controls">
                    <button class="timer-btn start-btn" id="startTimerBtn">Start Timer</button>
                    <button class="timer-btn reset-btn" id="resetTimerBtn" disabled>Reset</button>
                </div>

                <!-- Timer Display -->
                <div class="timer-display" id="timerDisplay">
                    <div class="timer-time">00:00:00</div>
                    <div class="timer-progress">
                        <div class="timer-progress-bar" id="timerProgressBar"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- World Clock Modal -->
    <div class="world-clock-modal" id="worldClockModal" role="dialog" aria-labelledby="worldClockTitle" aria-modal="true">
        <div class="world-clock-panel">
            <div class="world-clock-header">
                <h2 class="world-clock-title" id="worldClockTitle">World Clocks</h2>
                <button class="close-btn" id="worldClockCloseBtn" aria-label="Close world clock">√ó</button>
            </div>

            <!-- Add City Section -->
            <div class="add-city-section">
                <label class="picker-label">Add City</label>
                <div class="city-picker">
                    <select class="city-select" id="citySelect" aria-label="Select city">
                        <option value="">Choose a city...</option>
                    </select>
                    <button class="add-city-btn" id="addCityBtn">+ Add City</button>
                </div>
            </div>

            <!-- World Clock List -->
            <div class="world-clock-list" id="worldClockList">
                <p class="empty-state" id="emptyWorldClockState">No cities added</p>
            </div>
        </div>
    </div>

    <!-- Stopwatch Modal -->
    <div class="stopwatch-modal" id="stopwatchModal" role="dialog" aria-labelledby="stopwatchTitle" aria-modal="true">
        <div class="stopwatch-panel">
            <div class="stopwatch-header">
                <h2 class="stopwatch-title" id="stopwatchTitle">Stopwatch</h2>
                <button class="close-btn" id="stopwatchCloseBtn" aria-label="Close stopwatch">√ó</button>
            </div>

            <!-- Stopwatch Display -->
            <div class="stopwatch-display">
                <div class="stopwatch-time" id="stopwatchTime">00:00:00.000</div>
            </div>

            <!-- Stopwatch Controls -->
            <div class="stopwatch-controls">
                <button class="stopwatch-control-btn start-btn" id="stopwatchStartBtn">
                    <span class="btn-icon">‚ñ∂</span>
                    <span class="btn-text">Start</span>
                </button>
                <button class="stopwatch-control-btn lap-btn" id="stopwatchLapBtn" disabled>
                    <span class="btn-icon">‚è±</span>
                    <span class="btn-text">Lap</span>
                </button>
                <button class="stopwatch-control-btn reset-btn" id="stopwatchResetBtn" disabled>
                    <span class="btn-icon">‚Üª</span>
                    <span class="btn-text">Reset</span>
                </button>
            </div>

            <!-- Lap Times List -->
            <div class="lap-times-section">
                <h3 class="lap-times-title">Lap Times</h3>
                <div class="lap-times-list" id="lapTimesList">
                    <p class="empty-state" id="emptyLapState">No laps recorded</p>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="clock-wrapper">
            <!-- SVG Rings -->
            <svg class="rings" viewBox="0 0 400 400">
                <defs>
                    <!-- Gradient definitions -->
                    <linearGradient id="hourGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient id="minuteGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient id="secondGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient id="msGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#43e97b;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#38f9d7;stop-opacity:1" />
                    </linearGradient>
                </defs>

                <!-- Ring backgrounds -->
                <circle class="ring-bg" cx="200" cy="200" r="180" />
                <circle class="ring-bg" cx="200" cy="200" r="140" />
                <circle class="ring-bg" cx="200" cy="200" r="100" />
                <circle class="ring-bg" cx="200" cy="200" r="60" />

                <!-- Arc segments (dynamically generated by JS) -->
                <g id="hourArcs"></g>
                <g id="minuteArcs"></g>
                <g id="secondArcs"></g>
                <g id="msArcs"></g>

                <!-- Alarm markers (dynamically generated by JS) -->
                <g id="alarmMarkers"></g>
            </svg>

            <!-- Time labels -->
            <div class="time-labels">
                <div class="time-unit">
                    <span class="time-value" id="hourValue">00</span>
                    <span class="time-label">Hours</span>
                </div>
                <div class="time-unit">
                    <span class="time-value" id="minuteValue">00</span>
                    <span class="time-label">Minutes</span>
                </div>
                <div class="time-unit">
                    <span class="time-value" id="secondValue">00</span>
                    <span class="time-label">Seconds</span>
                </div>
                <div class="time-unit">
                    <span class="time-value" id="msValue">000</span>
                    <span class="time-label">Milliseconds</span>
                </div>
            </div>

            <!-- Accessible text time display -->
            <div class="text-time" aria-live="polite" aria-atomic="true">
                <span id="textTime">00:00:00.000</span>
            </div>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>
